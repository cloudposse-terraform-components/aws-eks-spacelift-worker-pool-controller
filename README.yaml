name: "aws-eks-spacelift-worker-pool-controller"
# Canonical GitHub repo
github_repo: "cloudposse-terraform-components/aws-eks-spacelift-worker-pool-controller"
# Short description of this project
description: |-
  This component provisions the controller part of the
  [Kubernetes Operator](https://docs.spacelift.io/concepts/worker-pools/kubernetes-workers#kubernetes-workers) for
  [Spacelift Worker Pools](https://docs.spacelift.io/concepts/worker-pools#kubernetes) into an EKS cluster. It must be
  installed in the cluster before installing the `eks/spacelift-worker-pool` component.

  The `eks/spacelift-worker-pool-controller` component must be provisioned only once per EKS cluster. You can deploy the
  `eks/spacelift-worker-pool` component multiple times.
usage: |-
  **Stack Level**: Regional

  ```yaml
  # stacks/catalog/eks/spacelift-worker-pool-controller/defaults.yaml
  components:
    terraform:
      eks/spacelift-worker-pool-controller:
        vars:
          enabled: true
          name: "spacelift-controller"
          eks_component_name: eks/cluster
          # https://github.com/spacelift-io/spacelift-helm-charts/tree/main/spacelift-workerpool-controller
          # https://docs.spacelift.io/concepts/worker-pools#kubernetes
          chart: "spacelift-workerpool-controller"
          chart_repository: "https://downloads.spacelift.io/helm"
          chart_version: "0.19.0"
          chart_description: "Helm chart for deploying Spacelift worker pool controller and WorkerPool CRD"
          create_namespace_with_kubernetes: true
          kubernetes_namespace: "spacelift-worker-pool"
          timeout: 180
          cleanup_on_fail: true
          atomic: true
          wait: true
          chart_values: {}
  ```
references:
  - name: "Spacelift Worker Pools (Kubernetes)"
    description: ""
    url: "https://docs.spacelift.io/concepts/worker-pools#kubernetes"
  - name: "Customize Runner Image"
    description: ""
    url: "https://docs.spacelift.io/integrations/docker#customizing-the-runner-image"
  - name: "Terraform: spacelift_worker_pool"
    description: ""
    url: "https://registry.terraform.io/providers/spacelift-io/spacelift/latest/docs/resources/worker_pool"
  - name: "Spacelift Worker Pools Installation"
    description: ""
    url: "https://docs.spacelift.io/concepts/worker-pools#installation"
  - name: "Spacelift Helm Charts: workerpool-controller"
    description: ""
    url: "https://github.com/spacelift-io/spacelift-helm-charts/tree/main/spacelift-workerpool-controller"
  - name: "Helm values: workerpool-controller"
    description: ""
    url: "https://github.com/spacelift-io/spacelift-helm-charts/blob/main/spacelift-workerpool-controller/values.yaml"
  - name: "Terraform Provider Kubernetes Issue #1367"
    description: ""
    url: "https://github.com/hashicorp/terraform-provider-kubernetes/issues/1367"
tags:
  - component/eks/spacelift-worker-pool-controller
  - layer/spacelift
  - provider/aws
  - provider/helm
# Categories of this project
categories:
  - component/eks/spacelift-worker-pool-controller
  - layer/spacelift
  - provider/aws
  - provider/helm
# License of this project
license: "APACHE2"
# Badges to display
badges:
  - name: Latest Release
    image: https://img.shields.io/github/release/cloudposse-terraform-components/aws-eks-spacelift-worker-pool-controller.svg?style=for-the-badge
    url: https://github.com/cloudposse-terraform-components/aws-eks-spacelift-worker-pool-controller/releases/latest
  - name: Slack Community
    image: https://slack.cloudposse.com/for-the-badge.svg
    url: https://slack.cloudposse.com
related:
  - name: "Cloud Posse Terraform Modules"
    description: Our collection of reusable Terraform modules used by our reference architectures.
    url: "https://docs.cloudposse.com/modules/"
  - name: "Atmos"
    description: "Atmos is like docker-compose but for your infrastructure"
    url: "https://atmos.tools"
contributors: [] # If included generates contribs
